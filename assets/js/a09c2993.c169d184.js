"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[128],{4852:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>k});var a=n(9231);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),u=c(n),k=o,d=u["".concat(l,".").concat(k)]||u[k]||p[k]||r;return n?a.createElement(d,i(i({ref:t},m),{},{components:n})):a.createElement(d,i({ref:t},m))}));function k(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var c=2;c<r;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},4603:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var a=n(8041),o=(n(9231),n(4852));const r={title:"Introduction",slug:"/"},i=void 0,s={unversionedId:"introduction",id:"introduction",title:"Introduction",description:"Welcome to [mocktomata], a behavior simulation system.",source:"@site/docs/introduction.md",sourceDirName:".",slug:"/",permalink:"/website/",draft:!1,editUrl:"https://github.com/mocktomata/website/blob/main/docs/introduction.md",tags:[],version:"current",frontMatter:{title:"Introduction",slug:"/"},sidebar:"mocktomata",next:{title:"setup",permalink:"/website/setup"}},l={},c=[],m={toc:c};function p(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("img",{src:"/website/img/mocktomata.png",height:"200px",align:"right"}),(0,o.kt)("p",null,"Welcome to ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/mocktomata/mocktomata/blob/master/packages/mocktomata"},"mocktomata"),", a behavior simulation system."),(0,o.kt)("p",null,"My name is ",(0,o.kt)("a",{parentName:"p",href:"/website/mockto"},"mockto"),"."),(0,o.kt)("p",null,"I will be your guide around here."),(0,o.kt)("p",null,"In a nutshell, ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/mocktomata/mocktomata/blob/master/packages/mocktomata"},"mocktomata")," saves the behavior of your code,\nand simulate it at a later time."),(0,o.kt)("p",null,"We can isolate your code from the changes and uncertainty of the outside world.\nAnd we can connect your code back by a flip of a switch."),(0,o.kt)("p",null,"That means, instead of manually writing mocks, you can write end-to-end (e2e) tests,\nand run them as e2e or unit tests."),(0,o.kt)("p",null,"Let's get started with an example."),(0,o.kt)("p",null,"Let's say you have a function ",(0,o.kt)("inlineCode",{parentName:"p"},"getFriends()"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"export function getFriends(axios, name) { ... }\n")),(0,o.kt)("p",null,"It calls a remote service to get a list of friends based on the input."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"axios")," instance is passed in for easy mocking,\na common practice for functional styled programming."),(0,o.kt)("p",null,"When you are not using ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/mocktomata/mocktomata/blob/master/packages/mocktomata"},"mocktomata"),", typically you will mock ",(0,o.kt)("inlineCode",{parentName:"p"},"axiso")," in your test.\nHere is an example using ",(0,o.kt)("inlineCode",{parentName:"p"},"jest.fn()"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import axios from 'axios'\n\ntest('get friends', async () => {\n  const axios = jest.fn(() => ...)\n\n  const friends = await getFriends(axios, 'miku')\n  expect(friends.map(f => f.name)).toEqual(['luka', 'rumi', 'len', 'ren'])\n})\n\n")),(0,o.kt)("p",null,"In ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/mocktomata/mocktomata/blob/master/packages/mocktomata"},"mocktomata"),", there are 4 mocktomaton you can use:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/website/mockto"},"mockto"),": myself, good at simple testing"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/website/komondor"},"komondor"),": a general, more versatile mocktomaton that can do more than testing"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/website/zucchini"},"zucchini"),": specialize in BDD, great for writing thousands and thousands of tests"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/website/incubator"},"incubator"),": specialize in plugin development")),(0,o.kt)("p",null,"Here, I'll use myself as an example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import axios from 'axios'\nimport { mockto } from 'mocktomata'\n\nmockto('get friends', (specName, spec) => {\n  test(specName, async () => {\n    const s = await spec(axios)\n\n    const friends = await getFriends(s, 'miku')\n    expect(friends.map(f => f.name)).toEqual(['luka', 'rumi', 'len', 'ren'])\n\n    await spec.done()\n  })\n})\n\nafterall(mockto.cleanup)\n")),(0,o.kt)("p",null,"When you run this test for the first time,\nI will make the actual call to the remote service to validate the behavior.\nWhen the test is completed,\nI will save the behavior into a ",(0,o.kt)("inlineCode",{parentName:"p"},"SpecRecord"),"."),(0,o.kt)("p",null,"The next time you run the test again,\nI will use the saved ",(0,o.kt)("inlineCode",{parentName:"p"},"SpecRecord")," to replay the behavior.\nSo the test is running just like a unit test."),(0,o.kt)("p",null,"These are all done automatically.\nSo you can write a test, make it pass, and continue on the next one."),(0,o.kt)("p",null,"Of course, there are many other things we can do.\nBut before get into them, let me first show you how to setup ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/mocktomata/mocktomata/blob/master/packages/mocktomata"},"mocktomata"),"."))}p.isMDXComponent=!0}}]);